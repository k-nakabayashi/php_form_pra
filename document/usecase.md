<ユースケース>

<機能要求>
1. 会員登録をする
2. メールアドレス認証をする。

<非機能要求>
1. リアルタイムバリデーションを行う
2. メールアドレス重複は不可能にする
3. セキュリティはしっかりとする。csrf script-insertion
4. 入力ページ以外への直getリクエストは拒否する。

============================================================
<ユースケース記述>
1. 会員登録をする
ユーザーは入力ページのフォーム送信項目を入力し、入力内容確認」ボタンを押下する。
システムは「フォーム送信データのチェック」を行い成功すると「入力内容確認ページ」を表示し、入力内容を表示する。
ユーザーは「入力内容確認ページ」で入力内容を確認し、「登録」ボタンを押下する。

システムは「フォーム送信データのチェック」を行い成功すれば、その後フォーム送信データを受け取る。
システムは「リクエスト認証認可の確認」する。
リクエストに問題がなければ、システムは仮登録をし、入力されたメールアードレスに認証用メールを送る。

alt：フォーム送信データのチェック
1. システムはフォーム送信データに問題があれば、以降の処理を中断し、
その後に登録画面を表示し、ユーザーにエラーを通知する。

alt：リクエストのセキュリティの問題ありの場合
1. システムはリクエスト処理を中断し、その後に登録画面を表示し、
ユーザーにエラーを通知する。

extend：基盤系ユースケース。ミドルウェアかな？いやFireWall的な役割やな。ミドルウェアにすると無駄な処理が走る。
1. 「リクエスト認証認可の確認」をする
システムはリクエストからトークン・キーを使って、認証し、「〜〜をする」の認可を行うことで
セキュリティチェックを行う。
問題がなければ、システムは元と流れに復帰する






------------------------------------------------------

2. メールアドレス認証をする。
ユーザーが入力内容確認ページから登録をすると、
システムは入力に問題がなければ、認証用メールを登録されたメールに送信する。
ユーザーは届いた認証用メールのリンクを踏む、システムはメールアドレス認証を行い、認証完了ページを表示する。



======================================================================
その他
ステータスバーが欲しい。

ユーザー情報はどのタイミングで登録されるべきか？
・確認画面で「登録」ボタンが押下された時？
・メールアドレス認証された時か？


index.phpを常に通す
・get直リンク
・form経由

API通信ゲートはapi.phpだけでいいか？
外に出るならclient通信管理機能がほしい。

